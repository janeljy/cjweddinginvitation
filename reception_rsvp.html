<button onclick="openRsvpForm()" 
    style="font-family: 'Playfair Display', serif; 
    font-size: 1.8rem; 
    color: #0b2e33; 
    border: 1px solid #0b2e33; 
    background: none; 
    padding: 1.5rem 2.5rem; 
    cursor: pointer; 
    transition: color 0.3s ease, background 0.3s ease, border 0.3s ease;">RSVP Now</button>

<div id="rsvp-form" 
    style="display: none; 
    position: fixed; 
    top: 50%; left: 50%; 
    transform: translate(-50%, -50%); 
    background: white; 
    padding: 1.5rem; 
    border-radius: 10px; 
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); 
    width: 90%; 
    max-width: 400px;">
    
    <button onclick="closeRsvpForm()" 
        style="position: absolute; 
        top: 10px; 
        right: 10px; 
        background: none; 
        border: none; 
        font-size: 1.2rem; 
        cursor: pointer;">Ã—</button>
    
    <h3 style="font-family: 'Playfair Display', serif; text-align: center;">RSVP Confirmation</h3>
    
    <form action="https://docs.google.com/forms/d/1ypIlwbshdNaLU8EMNyXI4APy5rJiJ3Nux22JF11EYwc/formResponse" method="POST" target="_self">
        <label for="name" style="font-family: 'Merriweather', serif;">Name</label>
        <input type="text" id="name" name="entry.1073488792" required style="width: 100%; padding: 0.5rem; margin-bottom: 1rem; border: 1px solid #ccc; border-radius: 5px;">
        
        <label for="plus-one" style="font-family: 'Merriweather', serif;">Bringing a Plus One?</label>
        <select id="plus-one" name="entry.1301153858" onchange="togglePlusOneField()" required style="width: 100%; padding: 0.5rem; margin-bottom: 1rem; border: 1px solid #ccc; border-radius: 5px;">
            <option value="No" selected>No</option>
            <option value="Yes">Yes</option>
        </select>
        
        <div id="plus-one-name-field" style="display: none;">
            <label for="plus-one-name" style="font-family: 'Merriweather', serif;">Plus One's Name</label>
            <input type="text" id="plus-one-name" name="entry.1310270178" style="width: 100%; padding: 0.5rem; margin-bottom: 1rem; border: 1px solid #ccc; border-radius: 5px;">
        </div>
        
        <label for="phone" style="font-family: 'Merriweather', serif;">Your Phone Number</label>
        <input type="tel" id="phone" name="entry.229180976" required style="width: 100%; padding: 0.5rem; margin-bottom: 1rem; border: 1px solid #ccc; border-radius: 5px;">
        
        <label for="diet" style="font-family: 'Merriweather', serif;">Dietary Restrictions</label>
        <textarea id="diet" name="entry.670485444" rows="3" style="width: 100%; padding: 0.5rem; margin-bottom: 1rem; border: 1px solid #ccc; border-radius: 5px;"></textarea>
        
        <button type="submit" style="background: #0b2e33; color: white; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer; font-family: 'Playfair Display', serif;">Submit</button>
    </form>
</div>

<script>
    function openRsvpForm() {
        const form = document.getElementById('rsvp-form');
        if (form) {
            form.style.display = 'block'; // Make the form visible
        } else {
            console.error('RSVP form not found. Ensure the ID "rsvp-form" matches.');
        }
    }

    function closeRsvpForm() {
        const form = document.getElementById('rsvp-form');
        if (form) {
            form.style.display = 'none';
        }
    }

    function submitRsvp(event) {
        event.preventDefault();
        const name = document.getElementById('name')?.value || 'Unknown';
        const plusOne = document.getElementById('plus-one')?.value || 'No';
        const plusOneName = document.getElementById('plus-one-name')?.value || 'N/A';
        const phone = document.getElementById('phone')?.value || 'N/A';
        const diet = document.getElementById('diet')?.value || 'None';

        alert(`Thank you, ${name}!
        RSVP confirmed.
        Plus One: ${plusOne}
        Phone: ${phone}
        Dietary Restrictions: ${diet}`);
        closeRsvpForm();
    }

    // Show/hide the Plus One's name field based on selection
    function togglePlusOneField() {
        const plusOneSelect = document.getElementById('plus-one');
        const plusOneNameField = document.getElementById('plus-one-name-field');
        if (plusOneSelect.value === 'Yes') {
            plusOneNameField.style.display = 'block';
        } else {
            plusOneNameField.style.display = 'none';
            document.getElementById('plus-one-name').value = ''; // Clear input
        }
    }
</script>
